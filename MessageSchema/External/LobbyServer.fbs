include "Constant.fbs";
include "CharacterInfo.fbs";

namespace GenericBoson.Zozo;

table LoginReq
{
    account : string;
    password: string;
}

table ServerInfo
{
    name       : string;
    ip         : string;
    port       : string;
    current_ccu: int;
    max_ccu    : int;
}

table LoginAck
{
    result_code : ResultCode;
    server_infos: [ServerInfo];
    characters  : [CharacterInfo];
    token       : string;
}

union LobbyPayload
{
    LoginReq,
    LoginAck,
}

table LobbyMessage
{
    payload:LobbyPayload;
}

root_type LoginReq;
root_type LoginAck;
root_type LobbyMessage;