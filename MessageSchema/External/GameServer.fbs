include "Constant.fbs";
include "CharacterInfo.fbs";
include "CharacterPositionUpdate.fbs";

namespace GenericBoson.Zozo;

table CharacterListReq
{
    user_id : long;
    token : string;
}

table CharacterPairData
{
    id : long;
    name : string;
}

table CharacterListAck
{
    result_code : ResultCode;
    
    character_pair_datas : [CharacterPairData];
}

table CharacterSelectReq
{
    id : long;
    token : string;
}

table CharacterSelectAck
{
    result_code : ResultCode;
    
    data : CharacterInfo;
    pos : CharacterPositionUpdateReq;
}

union GamePayload
{
    CharacterListReq,
    CharacterListAck,
    CharacterSelectReq,
    CharacterSelectAck,
    CharacterPositionUpdateReq,
    CharacterPositionUpdateAck,
}

table GameMessage
{
    payload:GamePayload;
}

root_type CharacterSelectReq;
root_type CharacterSelectAck;
root_type CharacterListReq;
root_type CharacterListAck;
root_type GameMessage;